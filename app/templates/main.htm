{% extends "base.htm" %}

{% block title %}Real time auctions{% endblock %}
{% block heading %}Real time auctions{% endblock %}

{% block head %}
<script src='/_ah/channel/jsapi'></script>
<script src="/static/main.js" type="text/javascript"></script>
{% endblock %}

{% block content %}
<div id="message"></div>
<div id="auction">
  <h2>What's for sale?</h2>
  <div>
  <span id="item_image"></span>
  <span id="item">
    No item
  </span>
  </div>
  <br/>
  <div id="remaining">
  </div>
  <br/>
  <div id="bid">
  </div>
  <p>
    <form onsubmit="mgr.new_bid(); return false" action="#">
      Make a bid:
      <input type="text" name="new_bid" id="new_bid" value="0.00"/>
      <input type="submit" name="Make Bid" value="Make Bid"/>
    </form>
  </p>
  <div id="log"></div>
</div>
<div id="confirm" style="display: none">
<a onclick="mgr.confirm_purchase(); return false" href="nojs.htm">Continue...</a>
</div>
<p><a href="/profile">Update profile</a></p>
<p><strong>Your Recent Bids</strong></p>
<div id="history">
No recent bids
</div>
<a onclick="mgr.clear_history(); return false" href="nojs.htm">Clear</a>
</p>
<script>
  var mgr = auction();
  mgr.init( "{{ token }}" );
  mgr.message( '{{ state }}' );
</script>
{% endblock %}
